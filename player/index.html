<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <html lang="en">
        
    <title>Simple Player v2</title>
    
    <script type="text/javascript" src="/js/youtube_v2.js"></script>
    <script type="text/javascript" src="/js/sliders.js"></script>
    <script type="text/javascript" src="/js/tools.js"></script>
    <link href="/css/sliders.css" media="all" rel="stylesheet" />
</head>
<body>
    <li>
        <a id='youtube_text' href="#" onclick="my_youtube.Toggle_play_pause()" style="height: 15px;">
            Starting...
        </a>
        <div id='youtube_player_embedded'></div>
    </li>
    <li>
        <a href="#" onclick="my_youtube.Next()" style="height: 15px;">
            Next
        </a>
    </li>
    <li>
        <a href="#" onclick="my_youtube.Previous()" style="height: 15px;">
            Previous
        </a>
    </li>
    <li>
        <p style="display: inline; ">Volume:</p>
        <div style="display: inline; position: absolute; top: 10px; width: 200px; height: 10px; border-radius: 8px; background-color: black;">
            <div style="position: absolute; top: 0; left: 0; width: 10px; height: 10px; background-color: cyan; border-radius: 8px;" id="youtube_volume"></div>
        </div>
    </li>
    
    <br />

    <ul id='loglist'></ul>

</body>
</html>
<script>    
    YouTube_setLogID('loglist');

    const vid_vol = lsw_http_get('vid_vol') || 5;
    const vid_id = lsw_http_get('vid_id');
    const vid_pl = lsw_http_get('vid_pl') || 'PLJGtI1TtwC21g9ePKmmaJgjxfqqn816gx'; // Plug & Play

    var my_youtube = YouTube('loglist');
    lsw_slider_position_like_perc('youtube_volume', vid_vol);

    my_youtube.OnReady(function(){
        console.log('= OnReady!');

        my_youtube.SetVolume(vid_vol);
        my_youtube.Shuffle();
        my_youtube.Next(); 
        my_youtube.Play();
    });
    my_youtube.OnPlay(function(){ 
        console.log('= OnPlay!');
        my_youtube.SetVolume(vid_vol);
    });
    my_youtube.OnPause(function(){ console.log('= OnPause!');});
    my_youtube.OnStop(function(){ console.log('= OnStop!');});
    my_youtube.OnLoading(function(){ console.log('= OnLoading');});
    my_youtube.OnLoadFail(function(){ console.log('= OnLoadFail! Next'); my_youtube.Next(); });

    if (vid_id === null) {
        my_youtube.Load(vid_pl, true, '0', '0');
    }
    else {
        my_youtube.Load(vid_id, false, '0', '0');
    }
    
    lsw_make_slider_of('youtube_volume', 189, 0, function(w,h) { my_youtube.SetVolume(w); });
</script>